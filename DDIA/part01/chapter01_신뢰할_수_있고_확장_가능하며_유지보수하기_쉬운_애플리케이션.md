# 01장 신뢰할 수 있고 확장 가능하며 유지보수하기 쉬운 애플리케이션

현대 애플리케이션은 "데이터 중심"적이다. 그렇기에 다음과 같은 요소들에 의해 영향을 받는다. 
- 데이터의 양
- 데이터의 복잡도
- 데이터의 변화 속도

이에 더해, 컴포넌트들도 "데이터" 중심으로 이루어진다.
- 데이터베이스
- 캐시
- 일괄 처리

소프트웨어 중요한 3가지는 다음과 같다.
- 신뢰성: 결함이 발생해도 시스템은 지속적으로 올바르게 동작.
- 확장성: 부하가 증가하면 이를 처리할 수 있는 적절한 방안이 존재해야 함.
- 유지보수성: 모든 사용자가 시스템 상에서 생산적으로 작업할 수 있어야 함.

# 신뢰성
***
- 결함: 잘못될 수 있는 일
- 내결함성: 결함을 예측하고 대처할 수 있는 힘 -> 모든 유형에 대해서는 불가능, 특정만 대처

중요한 것은 결함이 장애로 발전되지 않도록 하는 것이다.
- 장애: 시스템 전체가 멈춘 경우

### 하드웨어 결함
사실상 늘상 있는 일이다. -> 하드웨어의 수명, 예기치 못한 사고
그래도 다음과 같은 대응을 할 수 있다.
- 소프트웨어 내결함성 기술 + 하드웨어 중복성 추가(백업, 이중화)

### 소프트웨어 오류
시스템 내 체계적 오류는 하드웨어 결함과는 달리 노드간 상관관계 때문에 시스템 오류를 더 많이 유발한다.

### 인적 오류
결국 문제가 가장 많이 일어나는 곳은 사람이다.
- 오류의 가능성을 최소화하는 방향으로 설계하라.
- 실수로 장애가 발생할 수 있는 곳을 분리하라.
- 모든 수준에서 철저히 테스트하라.
- 쉽고 빠르게 복구할 있도록 하라.
- 지속적 모니터링 하라.

## 신뢰성은 얼마나 중요할까?
말 그대로 안전뿐만 아니라 사용자가 불편함을 느낀다? -> 그만큼 수익이 감소

# 확장성
***
확장성은 증가한 부하에 대처하는 시스템 능력이다.

## 부하 기술하기
확장성을 가져가기 위해서는 그만큼 부하에 대한 정의도 잘 내려야 한다. 부하는 부하 매개변수라 부르는 몇 개의
숫자로 나타낼 수 있다.
- 웹 서버의 초당 요청 수, 읽기 대 쓰기 비율 등

*팬 아웃: 트랜잭션 처리 시스템에서 하나의 클라이언트 요청을 처리하기 위해 여러 개의 내부 서비스나 리소스에 접근해야 하는 구조

## 성능 기술하기
시스템 성능에서 중요한 점은 무엇일까? 이는 시스템 마다 다르다.
- 일괄 처리 시스템 -> 처리량
- 온라인 시스템 -> 응답 시간

그럼 응답 시간은 어떻게 따져야 할까? 응답 시간은 매번 변한다 -> **분포**로 측정

매번 응답 시간이 달라지는데에는 여러가지 이유가 있음.
- 컨텍스트 스위치, 네트워크 패킷 손실 등

중요한 점은 결국 SLA, SLO에 적힌 요구사항을 만족시켜야 한다는 것.

## 부하 대응 접근 방식
- 용량 확장 = 수직 확장
- 규모 확장 = 수평 확장
    - 고려사항
      - stateful/stateless
      - elastic

# 유지 보수성
***
레거시를 만들지 말자.
- 운용성: 운용팀이 운영하기 쉽게
- 단순성: 이해하기 쉽게
- 발전성: 쉽게 수정이 가능하게

## 운용성
동일하게 반복되는 태스크를 쉽게 수행할 수 있게 만든다.

## 단순성
추상화를 통해 우발적 복잡도를 줄인다.

## 발전성
리팩토링이 용이하게

# 정리
***
애플리케이션이 유용하려면 다양한 **요구사항**을 충족시켜야 한다.
- 기능적 요구사항(서비스적으로 필요한 기능)
- 비기능적 요구사항(보안, 확장성 등등)

신뢰성: 결함이 발생해도 시스템이 올바르게 동작하게<br>
확장성: 부하가 증가해도 좋은 성능 유지<br>
유지보수성: 복잡도를 줄이고 쉽게 변경할 수 있게

 